<!DOCTYPE html>
<html>
<head>
	<title>GAME</title>
	<meta charset="utf-8">
  	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
	<link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
	<script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>

</head>
<body>
<div class="container">
	<div class="mdl-layout mdl-js-layout">
		<header class="mdl-layout__header" style="width: 85%; background-color: rgb(101, 101, 101);">
	    	<div class="mdl-layout__header-row">
	      		<span class="mdl-layout-title">WELCOME TO THE NUMBER GAME</span>
	    	</div>
	    	<div class="row">
			
   		<button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect" style="background-color: rgb(101, 101, 101);" onclick="start()">
  			START THE GAME
		</button>
		</div>
	    </header>
	   		<div class="row">
			<div class="col-xs-4 col-md-4 col-sm-4">
				<h2 id="timeleft"></h2>
			</div>
			<div class="col-xs-4 col-md-4 col-sm-4">
				<div class="row" id="mygrid">
					
				</div>
			</div>
			<div class="col-xs-4 col-md-4 col-sm-4">
				<h2 id="score"></h2>
			</div>
			</div>
	    
	</div>
	<br>
	<br>
	<hr>
		

	<script>

		var x=[1,9,5,7,-1,-2,-5,-10];
		var y=['+2sec','+5sec','-2sec','-5sec'];
		var state=0;
		var score=0;
		var timeleft=30;
		var array=[];

		function getvalue()
		{
		var select=Math.floor(Math.random() * 2);

		if(select==0)
			return x[Math.floor(Math.random()*x.length)];
		else
			return y[Math.floor(Math.random()*y.length)];
		}

		function getgrid()
		{
			for (var i = 0; i < 16; i++)
			{
				array[i]=getvalue();
			}
			render();
		}
		function myclick(val){
			console.log(val+'-------------')
			if(val.indexOf("sec")!=-1){
				var time=parseInt(val);
				timeleft+=time;
			}else{
				score+=parseInt(val);
			}
		}
		function render()
		{
			document.getElementById("mygrid").innerHTML='';
			array.forEach(function(item){
				document.getElementById("mygrid").innerHTML+='<div onclick="myclick(\''+item+'\')" class="col-xs-3 col-md-3 col-sm-3" style="background-color:grey;">'+item+'</div>';
			})
			document.getElementById("score").innerHTML=score;
			document.getElementById("timeleft").innerHTML=timeleft;
		}
		
		function start(){
			setInterval(function(){
				if(state==0){
					getgrid();
					if(timeleft==0)state=1;
				}else{
					alert('Your score is  '+score);					
				}
				timeleft--;
			},1000);
		}
	</script>
</body>
</html>